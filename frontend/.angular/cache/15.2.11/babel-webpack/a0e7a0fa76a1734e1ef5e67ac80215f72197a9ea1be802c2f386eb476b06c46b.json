{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction AssignmentModalComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"p\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.content);\n  }\n}\nfunction AssignmentModalComponent_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"textarea\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function AssignmentModalComponent_ng_template_22_Template_textarea_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.content = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.content);\n  }\n}\nfunction AssignmentModalComponent_div_24_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\\"\", ctx_r7.existingSubmission == null ? null : ctx_r7.existingSubmission.feedback, \"\\\"\");\n  }\n}\nfunction AssignmentModalComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\", 9);\n    i0.ɵɵtext(2, \"Feedback & Grade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 20)(4, \"p\", 21);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, AssignmentModalComponent_div_24_p_6_Template, 2, 1, \"p\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.existingSubmission == null ? null : ctx_r3.existingSubmission.grade, \"%\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.existingSubmission == null ? null : ctx_r3.existingSubmission.feedback);\n  }\n}\nfunction AssignmentModalComponent_button_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AssignmentModalComponent_button_28_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.handleSubmit());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.existingSubmission ? \"Update Submission\" : \"Submit\", \" \");\n  }\n}\nexport let AssignmentModalComponent = /*#__PURE__*/(() => {\n  class AssignmentModalComponent {\n    assignment;\n    currentUser;\n    close = new EventEmitter();\n    submit = new EventEmitter();\n    existingSubmission;\n    content = '';\n    ngOnInit() {\n      this.existingSubmission = this.assignment.submissions.find(s => s.wardId === this.currentUser.id);\n      if (this.existingSubmission) {\n        this.content = this.existingSubmission.content;\n      }\n    }\n    handleSubmit() {\n      if (this.content.trim()) {\n        this.submit.emit(this.content);\n      }\n    }\n    static ɵfac = function AssignmentModalComponent_Factory(t) {\n      return new (t || AssignmentModalComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AssignmentModalComponent,\n      selectors: [[\"app-assignment-modal\"]],\n      inputs: {\n        assignment: \"assignment\",\n        currentUser: \"currentUser\"\n      },\n      outputs: {\n        close: \"close\",\n        submit: \"submit\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 29,\n      vars: 6,\n      consts: [[1, \"fixed\", \"inset-0\", \"bg-black\", \"bg-opacity-60\", \"flex\", \"justify-center\", \"items-center\", \"z-50\", \"p-4\"], [1, \"bg-white\", \"dark:bg-slate-800\", \"rounded-lg\", \"shadow-xl\", \"p-6\", \"w-full\", \"max-w-2xl\", \"max-h-[90vh]\", \"flex\", \"flex-col\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-4\", \"pb-4\", \"border-b\", \"border-slate-200\", \"dark:border-slate-700\"], [1, \"text-2xl\", \"font-bold\", \"text-slate-800\", \"dark:text-white\"], [1, \"text-sm\", \"text-slate-500\", \"dark:text-slate-400\"], [1, \"text-slate-400\", \"hover:text-slate-600\", \"dark:hover:text-slate-200\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 1, \"h-6\", \"w-6\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M6 18L18 6M6 6l12 12\"], [1, \"space-y-4\", \"overflow-y-auto\", \"pr-2\", \"flex-grow\"], [1, \"font-semibold\", \"text-slate-700\", \"dark:text-slate-200\", \"mb-2\"], [1, \"text-sm\", \"text-slate-600\", \"dark:text-slate-300\", \"whitespace-pre-wrap\"], [1, \"border-slate-200\", \"dark:border-slate-700\"], [\"class\", \"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg\", 4, \"ngIf\", \"ngIfElse\"], [\"submissionArea\", \"\"], [4, \"ngIf\"], [1, \"mt-6\", \"flex\", \"justify-end\", \"space-x-3\", \"pt-4\", \"border-t\", \"border-slate-200\", \"dark:border-slate-700\"], [1, \"px-4\", \"py-2\", \"border\", \"border-slate-300\", \"text-sm\", \"font-medium\", \"rounded-md\", 3, \"click\"], [\"class\", \"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700\", 3, \"click\", 4, \"ngIf\"], [1, \"bg-slate-50\", \"dark:bg-slate-700/50\", \"p-4\", \"rounded-lg\"], [\"rows\", \"12\", \"placeholder\", \"Type your submission here...\", 1, \"mt-1\", \"block\", \"w-full\", \"px-3\", \"py-2\", \"bg-white\", \"dark:bg-slate-700\", \"border\", \"border-slate-300\", \"dark:border-slate-600\", \"rounded-md\", \"shadow-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"bg-slate-100\", \"dark:bg-slate-900/50\", \"p-4\", \"rounded-lg\", \"space-y-3\"], [1, \"text-2xl\", \"font-bold\", \"text-sky-600\", \"dark:text-sky-400\"], [\"class\", \"text-sm text-slate-600 dark:text-slate-300 italic\", 4, \"ngIf\"], [1, \"text-sm\", \"text-slate-600\", \"dark:text-slate-300\", \"italic\"], [1, \"px-4\", \"py-2\", \"border\", \"border-transparent\", \"text-sm\", \"font-medium\", \"rounded-md\", \"shadow-sm\", \"text-white\", \"bg-indigo-600\", \"hover:bg-indigo-700\", 3, \"click\"]],\n      template: function AssignmentModalComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"h2\", 3);\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 4);\n          i0.ɵɵtext(7, \"Assignment\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function AssignmentModalComponent_Template_button_click_8_listener() {\n            return ctx.close.emit();\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(9, \"svg\", 6);\n          i0.ɵɵelement(10, \"path\", 7);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\")(13, \"h3\", 9);\n          i0.ɵɵtext(14, \"Instructions\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"p\", 10);\n          i0.ɵɵtext(16);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(17, \"hr\", 11);\n          i0.ɵɵelementStart(18, \"div\")(19, \"h3\", 9);\n          i0.ɵɵtext(20, \"Your Submission\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(21, AssignmentModalComponent_div_21_Template, 3, 1, \"div\", 12);\n          i0.ɵɵtemplate(22, AssignmentModalComponent_ng_template_22_Template, 1, 1, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(24, AssignmentModalComponent_div_24_Template, 7, 2, \"div\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\", 15)(26, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function AssignmentModalComponent_Template_button_click_26_listener() {\n            return ctx.close.emit();\n          });\n          i0.ɵɵtext(27, \" Close \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, AssignmentModalComponent_button_28_Template, 2, 1, \"button\", 17);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(23);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.assignment.title);\n          i0.ɵɵadvance(11);\n          i0.ɵɵtextInterpolate(ctx.assignment.description);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", (ctx.existingSubmission == null ? null : ctx.existingSubmission.grade) !== null)(\"ngIfElse\", _r1);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", (ctx.existingSubmission == null ? null : ctx.existingSubmission.grade) !== null);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", !ctx.existingSubmission || ctx.existingSubmission.grade === null);\n        }\n      },\n      dependencies: [CommonModule, i1.NgIf, FormsModule, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n      encapsulation: 2\n    });\n  }\n  return AssignmentModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
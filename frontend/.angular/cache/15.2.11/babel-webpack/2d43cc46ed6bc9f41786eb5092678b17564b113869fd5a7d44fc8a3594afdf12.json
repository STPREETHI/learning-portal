{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { UserRole } from '../../types';\nimport { CreateClassroomModalComponent } from '../create-classroom-modal/create-classroom-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction ClassroomListComponent_app_create_classroom_modal_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-create-classroom-modal\", 9);\n    i0.ɵɵlistener(\"close\", function ClassroomListComponent_app_create_classroom_modal_0_Template_app_create_classroom_modal_close_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.isCreateModalOpen = false);\n    })(\"create\", function ClassroomListComponent_app_create_classroom_modal_0_Template_app_create_classroom_modal_create_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.handleCreate($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClassroomListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"h2\", 12);\n    i0.ɵɵtext(3, \"Join Classroom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\")(5, \"label\", 13);\n    i0.ɵɵtext(6, \"Classroom Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function ClassroomListComponent_div_1_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.joinCode = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 15)(9, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ClassroomListComponent_div_1_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.isJoinModalOpen = false);\n    });\n    i0.ɵɵtext(10, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ClassroomListComponent_div_1_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.handleJoin());\n    });\n    i0.ɵɵtext(12, \"Send Join Request\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.joinCode);\n  }\n}\nfunction ClassroomListComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ClassroomListComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.isJoinModalOpen = true);\n    });\n    i0.ɵɵtext(1, \"Join Classroom\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClassroomListComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ClassroomListComponent_ng_template_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.isCreateModalOpen = true);\n    });\n    i0.ɵɵtext(1, \"New Classroom\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClassroomListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"h3\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.currentUser.role === ctx_r5.userRoleEnum.Tutor ? \"You haven't created any classrooms yet.\" : \"You are not enrolled in any classrooms.\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.currentUser.role === ctx_r5.userRoleEnum.Tutor ? \"Click 'New Classroom' to get started.\" : \"Use the 'Join Classroom' button and a code from your tutor to enroll.\", \" \");\n  }\n}\nfunction ClassroomListComponent_ng_template_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵlistener(\"click\", function ClassroomListComponent_ng_template_11_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const classroom_r20 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.selectClassroom.emit(classroom_r20.id));\n    });\n    i0.ɵɵelement(1, \"div\", 25);\n    i0.ɵɵelementStart(2, \"div\", 26)(3, \"h3\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 28);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 29);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(8, \"svg\", 30);\n    i0.ɵɵelement(9, \"path\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(10, \"span\", 32);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const classroom_r20 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(classroom_r20.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(classroom_r20.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", classroom_r20.wardIds.length, \" Students\");\n  }\n}\nfunction ClassroomListComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtemplate(1, ClassroomListComponent_ng_template_11_div_1_Template, 12, 3, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.filteredClassrooms);\n  }\n}\nexport let ClassroomListComponent = /*#__PURE__*/(() => {\n  class ClassroomListComponent {\n    classrooms = [];\n    currentUser;\n    selectClassroom = new EventEmitter();\n    createClassroom = new EventEmitter();\n    joinClassroom = new EventEmitter();\n    isCreateModalOpen = false;\n    isJoinModalOpen = false;\n    joinCode = '';\n    userRoleEnum = UserRole;\n    get filteredClassrooms() {\n      if (!this.currentUser) return [];\n      return this.currentUser.role === UserRole.Tutor ? this.classrooms.filter(c => c.tutorId === this.currentUser.id) : this.classrooms.filter(c => c.wardIds.includes(this.currentUser.id));\n    }\n    handleCreate(data) {\n      this.createClassroom.emit(data);\n      this.isCreateModalOpen = false;\n    }\n    handleJoin() {\n      if (this.joinCode.trim()) {\n        this.joinClassroom.emit(this.joinCode.trim());\n        this.isJoinModalOpen = false;\n        this.joinCode = '';\n      }\n    }\n    static ɵfac = function ClassroomListComponent_Factory(t) {\n      return new (t || ClassroomListComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClassroomListComponent,\n      selectors: [[\"app-classroom-list\"]],\n      inputs: {\n        classrooms: \"classrooms\",\n        currentUser: \"currentUser\"\n      },\n      outputs: {\n        selectClassroom: \"selectClassroom\",\n        createClassroom: \"createClassroom\",\n        joinClassroom: \"joinClassroom\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 13,\n      vars: 6,\n      consts: [[3, \"close\", \"create\", 4, \"ngIf\"], [\"class\", \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\", 4, \"ngIf\"], [1, \"space-y-6\"], [1, \"flex\", \"justify-between\", \"items-center\"], [1, \"text-3xl\", \"font-bold\", \"text-slate-800\", \"dark:text-white\"], [\"class\", \"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700\", 3, \"click\", 4, \"ngIf\", \"ngIfElse\"], [\"newClassroomButton\", \"\"], [\"class\", \"text-center py-16 bg-slate-100 dark:bg-slate-800 rounded-lg\", 4, \"ngIf\", \"ngIfElse\"], [\"classroomGrid\", \"\"], [3, \"close\", \"create\"], [1, \"fixed\", \"inset-0\", \"bg-black\", \"bg-opacity-50\", \"flex\", \"justify-center\", \"items-center\", \"z-50\", \"p-4\"], [1, \"bg-white\", \"dark:bg-slate-800\", \"rounded-lg\", \"shadow-xl\", \"p-6\", \"w-full\", \"max-w-md\"], [1, \"text-2xl\", \"font-bold\", \"text-slate-800\", \"dark:text-white\", \"mb-4\"], [\"for\", \"joinCode\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-slate-700\", \"dark:text-slate-300\"], [\"type\", \"text\", \"id\", \"joinCode\", \"placeholder\", \"Enter code from your tutor\", 1, \"mt-1\", \"block\", \"w-full\", \"px-3\", \"py-2\", \"bg-white\", \"dark:bg-slate-700\", \"border\", \"border-slate-300\", \"dark:border-slate-600\", \"rounded-md\", \"shadow-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mt-6\", \"flex\", \"justify-end\", \"space-x-3\"], [1, \"px-4\", \"py-2\", \"border\", \"border-slate-300\", \"text-sm\", \"font-medium\", \"rounded-md\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"border\", \"border-transparent\", \"text-sm\", \"font-medium\", \"rounded-md\", \"shadow-sm\", \"text-white\", \"bg-sky-600\", \"hover:bg-sky-700\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"border\", \"border-transparent\", \"text-sm\", \"font-medium\", \"rounded-md\", \"shadow-sm\", \"text-white\", \"bg-green-600\", \"hover:bg-green-700\", 3, \"click\"], [1, \"text-center\", \"py-16\", \"bg-slate-100\", \"dark:bg-slate-800\", \"rounded-lg\"], [1, \"text-xl\", \"font-semibold\", \"text-slate-700\", \"dark:text-slate-200\"], [1, \"mt-2\", \"text-slate-500\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-6\"], [\"class\", \"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden cursor-pointer group transform hover:-translate-y-1 transition-transform\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-white\", \"dark:bg-slate-800\", \"rounded-lg\", \"shadow-lg\", \"overflow-hidden\", \"cursor-pointer\", \"group\", \"transform\", \"hover:-translate-y-1\", \"transition-transform\", 3, \"click\"], [1, \"h-24\", \"bg-sky-600\", \"dark:bg-sky-800\"], [1, \"p-6\"], [1, \"text-xl\", \"font-bold\", \"group-hover:text-sky-600\", \"dark:group-hover:text-sky-400\"], [1, \"text-sm\", \"text-slate-500\", \"dark:text-slate-400\", \"mt-1\"], [1, \"mt-4\", \"flex\", \"items-center\", \"space-x-2\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 20 20\", \"fill\", \"currentColor\", 1, \"h-5\", \"w-5\", \"text-slate-400\"], [\"d\", \"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z\"], [1, \"text-sm\", \"font-medium\", \"text-slate-600\", \"dark:text-slate-300\"]],\n      template: function ClassroomListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ClassroomListComponent_app_create_classroom_modal_0_Template, 1, 0, \"app-create-classroom-modal\", 0);\n          i0.ɵɵtemplate(1, ClassroomListComponent_div_1_Template, 13, 1, \"div\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\")(5, \"h2\", 4);\n          i0.ɵɵtext(6, \"Your Classrooms\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(7, ClassroomListComponent_button_7_Template, 2, 0, \"button\", 5);\n          i0.ɵɵtemplate(8, ClassroomListComponent_ng_template_8_Template, 2, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(10, ClassroomListComponent_div_10_Template, 5, 2, \"div\", 7);\n          i0.ɵɵtemplate(11, ClassroomListComponent_ng_template_11_Template, 2, 1, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          const _r3 = i0.ɵɵreference(9);\n          const _r6 = i0.ɵɵreference(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.isCreateModalOpen);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isJoinModalOpen);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentUser.role === ctx.userRoleEnum.Ward)(\"ngIfElse\", _r3);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.filteredClassrooms.length === 0)(\"ngIfElse\", _r6);\n        }\n      },\n      dependencies: [CommonModule, i1.NgForOf, i1.NgIf, FormsModule, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, CreateClassroomModalComponent],\n      encapsulation: 2\n    });\n  }\n  return ClassroomListComponent;\n})();","map":{"version":3,"mappings":"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","names":["EventEmitter","CommonModule","FormsModule","UserRole","CreateClassroomModalComponent","i0","ClassroomListComponent","classrooms","currentUser","selectClassroom","createClassroom","joinClassroom","isCreateModalOpen","isJoinModalOpen","joinCode","userRoleEnum","filteredClassrooms","role","Tutor","filter","c","tutorId","id","wardIds","includes","handleCreate","data","emit","handleJoin","trim","selectors","inputs","outputs","standalone","features","decls","vars","consts","template","encapsulation"],"sourceRoot":"","sources":["D:\\learning-portal\\frontend\\src\\app\\components\\classroom-list\\classroom-list.component.ts","D:\\learning-portal\\frontend\\src\\app\\components\\classroom-list\\classroom-list.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Classroom, User, UserRole } from '../../types';\r\nimport { CreateClassroomModalComponent } from '../create-classroom-modal/create-classroom-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-classroom-list',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, CreateClassroomModalComponent],\r\n  templateUrl: './classroom-list.component.html',\r\n})\r\nexport class ClassroomListComponent {\r\n  @Input() classrooms: Classroom[] = [];\r\n  @Input() currentUser!: User;\r\n  @Output() selectClassroom = new EventEmitter<string>();\r\n  @Output() createClassroom = new EventEmitter<{name: string, description: string}>();\r\n  @Output() joinClassroom = new EventEmitter<string>();\r\n\r\n  isCreateModalOpen = false;\r\n  isJoinModalOpen = false;\r\n  joinCode = '';\r\n  \r\n  userRoleEnum = UserRole;\r\n\r\n  get filteredClassrooms(): Classroom[] {\r\n    if (!this.currentUser) return [];\r\n    return this.currentUser.role === UserRole.Tutor\r\n      ? this.classrooms.filter(c => c.tutorId === this.currentUser.id)\r\n      : this.classrooms.filter(c => (c.wardIds as string[]).includes(this.currentUser.id));\r\n  }\r\n\r\n  handleCreate(data: { name: string, description: string }): void {\r\n    this.createClassroom.emit(data);\r\n    this.isCreateModalOpen = false;\r\n  }\r\n\r\n  handleJoin(): void {\r\n    if (this.joinCode.trim()) {\r\n      this.joinClassroom.emit(this.joinCode.trim());\r\n      this.isJoinModalOpen = false;\r\n      this.joinCode = '';\r\n    }\r\n  }\r\n}\r\n","<app-create-classroom-modal *ngIf=\"isCreateModalOpen\" (close)=\"isCreateModalOpen = false\" (create)=\"handleCreate($event)\"></app-create-classroom-modal>\n\n<div *ngIf=\"isJoinModalOpen\" class=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\">\n    <div class=\"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\n        <h2 class=\"text-2xl font-bold text-slate-800 dark:text-white mb-4\">Join Classroom</h2>\n        <div>\n            <label for=\"joinCode\" class=\"block text-sm font-medium text-slate-700 dark:text-slate-300\">Classroom Code</label>\n            <input\n                type=\"text\"\n                id=\"joinCode\"\n                [(ngModel)]=\"joinCode\"\n                class=\"mt-1 block w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm\"\n                placeholder=\"Enter code from your tutor\"\n            />\n        </div>\n        <div class=\"mt-6 flex justify-end space-x-3\">\n            <button (click)=\"isJoinModalOpen = false\" class=\"px-4 py-2 border border-slate-300 text-sm font-medium rounded-md\">Cancel</button>\n            <button (click)=\"handleJoin()\" class=\"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700\">Send Join Request</button>\n        </div>\n    </div>\n</div>\n\n<div class=\"space-y-6\">\n    <div class=\"flex justify-between items-center\">\n        <div>\n            <h2 class=\"text-3xl font-bold text-slate-800 dark:text-white\">Your Classrooms</h2>\n        </div>\n        <button *ngIf=\"currentUser.role === userRoleEnum.Ward; else newClassroomButton\" (click)=\"isJoinModalOpen = true\" class=\"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700\">Join Classroom</button>\n        <ng-template #newClassroomButton>\n             <button (click)=\"isCreateModalOpen = true\" class=\"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700\">New Classroom</button>\n        </ng-template>\n    </div>\n    \n    <div *ngIf=\"filteredClassrooms.length === 0; else classroomGrid\" class=\"text-center py-16 bg-slate-100 dark:bg-slate-800 rounded-lg\">\n        <h3 class=\"text-xl font-semibold text-slate-700 dark:text-slate-200\">\n          {{ currentUser.role === userRoleEnum.Tutor ? \"You haven't created any classrooms yet.\" : \"You are not enrolled in any classrooms.\" }}\n        </h3>\n        <p class=\"mt-2 text-slate-500\">\n          {{ currentUser.role === userRoleEnum.Tutor ? \"Click 'New Classroom' to get started.\" : \"Use the 'Join Classroom' button and a code from your tutor to enroll.\" }}\n        </p>\n    </div>\n\n    <ng-template #classroomGrid>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <div *ngFor=\"let classroom of filteredClassrooms\" \n            (click)=\"selectClassroom.emit(classroom.id)\"\n            class=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden cursor-pointer group transform hover:-translate-y-1 transition-transform\"\n          >\n            <div class=\"h-24 bg-sky-600 dark:bg-sky-800\"></div>\n            <div class=\"p-6\">\n              <h3 class=\"text-xl font-bold group-hover:text-sky-600 dark:group-hover:text-sky-400\">{{ classroom.name }}</h3>\n              <p class=\"text-sm text-slate-500 dark:text-slate-400 mt-1\">{{ classroom.description }}</p>\n              <div class=\"mt-4 flex items-center space-x-2\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 text-slate-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\"><path d=\"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z\" /></svg>\n                <span class=\"text-sm font-medium text-slate-600 dark:text-slate-300\">{{ classroom.wardIds.length }} Students</span>\n              </div>\n            </div>\n          </div>\n        </div>\n    </ng-template>\n  </div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
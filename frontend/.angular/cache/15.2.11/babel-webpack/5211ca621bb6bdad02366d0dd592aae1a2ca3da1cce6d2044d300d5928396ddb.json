{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction LeaderboardComponent_ul_3_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"li\", 6)(1, \"div\", 7)(2, \"span\", 8);\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"span\", 9);\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(6, \"span\", 10);\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const sub_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r3 = i0.…µ…µnextContext(2);\n    i0.…µ…µproperty(\"ngClass\", i_r5 < 3 ? \"bg-yellow-50 dark:bg-yellow-900/20\" : \"bg-slate-50 dark:bg-slate-700\");\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(ctx_r3.getTrophy(i_r5));\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(sub_r4.wardName);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\", sub_r4.score.toFixed(0), \"%\");\n  }\n}\nfunction LeaderboardComponent_ul_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"ul\", 4);\n    i0.…µ…µtemplate(1, LeaderboardComponent_ul_3_li_1_Template, 8, 4, \"li\", 5);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r0.sortedSubmissions);\n  }\n}\nfunction LeaderboardComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\", 11);\n    i0.…µ…µtext(1, \"No submissions yet for this quiz.\");\n    i0.…µ…µelementEnd();\n  }\n}\nexport let LeaderboardComponent = /*#__PURE__*/(() => {\n  class LeaderboardComponent {\n    quiz;\n    wards = [];\n    sortedSubmissions = [];\n    ngOnChanges(changes) {\n      if (changes['quiz'] || changes['wards']) {\n        this.updateLeaderboard();\n      }\n    }\n    updateLeaderboard() {\n      this.sortedSubmissions = [...this.quiz.submissions].sort((a, b) => b.score - a.score).map(sub => ({\n        ...sub,\n        wardName: this.wards.find(w => w.id === sub.wardId)?.name || 'Unknown Ward'\n      }));\n    }\n    getTrophy(index) {\n      if (index === 0) return 'üèÜ';\n      if (index === 1) return 'ü•à';\n      if (index === 2) return 'ü•â';\n      return `${index + 1}.`;\n    }\n    static …µfac = function LeaderboardComponent_Factory(t) {\n      return new (t || LeaderboardComponent)();\n    };\n    static …µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: LeaderboardComponent,\n      selectors: [[\"app-leaderboard\"]],\n      inputs: {\n        quiz: \"quiz\",\n        wards: \"wards\"\n      },\n      standalone: true,\n      features: [i0.…µ…µNgOnChangesFeature, i0.…µ…µStandaloneFeature],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"bg-white\", \"dark:bg-slate-800\", \"rounded-lg\", \"shadow-lg\", \"p-6\", \"w-full\", \"max-w-md\", \"mx-auto\"], [1, \"text-xl\", \"font-bold\", \"text-slate-800\", \"dark:text-white\", \"mb-4\", \"text-center\"], [\"class\", \"space-y-3\", 4, \"ngIf\", \"ngIfElse\"], [\"noSubmissions\", \"\"], [1, \"space-y-3\"], [\"class\", \"flex items-center justify-between p-3 rounded-md\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"justify-between\", \"p-3\", \"rounded-md\", 3, \"ngClass\"], [1, \"flex\", \"items-center\"], [1, \"text-lg\", \"font-bold\", \"w-10\", \"text-center\"], [1, \"font-medium\", \"text-slate-700\", \"dark:text-slate-200\"], [1, \"font-bold\", \"text-sky-600\", \"dark:text-sky-400\"], [1, \"text-slate-500\", \"dark:text-slate-400\", \"text-center\", \"py-8\"]],\n      template: function LeaderboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"h3\", 1);\n          i0.…µ…µtext(2);\n          i0.…µ…µelementEnd();\n          i0.…µ…µtemplate(3, LeaderboardComponent_ul_3_Template, 2, 1, \"ul\", 2);\n          i0.…µ…µtemplate(4, LeaderboardComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 3, i0.…µ…µtemplateRefExtractor);\n          i0.…µ…µelementEnd();\n        }\n        if (rf & 2) {\n          const _r1 = i0.…µ…µreference(5);\n          i0.…µ…µadvance(2);\n          i0.…µ…µtextInterpolate1(\"Leaderboard: \", ctx.quiz.title, \"\");\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.sortedSubmissions.length > 0)(\"ngIfElse\", _r1);\n        }\n      },\n      dependencies: [CommonModule, i1.NgClass, i1.NgForOf, i1.NgIf],\n      encapsulation: 2\n    });\n  }\n  return LeaderboardComponent;\n})();","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;;;;;ICExCC,6BAE6F;IAExCA,YAAkB;IAAAA,iBAAO;IAC1EA,+BAA6D;IAAAA,YAAkB;IAAAA,iBAAO;IAExFA,gCAAuD;IAAAA,YAA2B;IAAAA,iBAAO;;;;;;IALzFA,2GAA0F;IAEvCA,eAAkB;IAAlBA,4CAAkB;IACNA,eAAkB;IAAlBA,qCAAkB;IAE1BA,eAA2B;IAA3BA,uDAA2B;;;;;IARtFA,6BAA+E;IAC7EA,wEAQK;IACPA,iBAAK;;;;IATiBA,eAAsB;IAAtBA,kDAAsB;;;;;IAW1CA,6BAA+D;IAAAA,iDAAiC;IAAAA,iBAAI;;;ADJ1G,WAAaC,oBAAoB;EAA3B,MAAOA,oBAAoB;IACtBC,IAAI;IACJC,KAAK,GAAW,EAAE;IAE3BC,iBAAiB,GAAU,EAAE;IAE7BC,WAAW,CAACC,OAAsB;MAChC,IAAIA,OAAO,CAAC,MAAM,CAAC,IAAIA,OAAO,CAAC,OAAO,CAAC,EAAE;QACvC,IAAI,CAACC,iBAAiB,EAAE;;IAE5B;IAEAA,iBAAiB;MACf,IAAI,CAACH,iBAAiB,GAAG,CAAC,GAAG,IAAI,CAACF,IAAI,CAACM,WAAW,CAAC,CAChDC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,KAAK,GAAGF,CAAC,CAACE,KAAK,CAAC,CACjCC,GAAG,CAACC,GAAG,KAAK;QACX,GAAGA,GAAG;QACNC,QAAQ,EAAE,IAAI,CAACZ,KAAK,CAACa,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKJ,GAAG,CAACK,MAAM,CAAC,EAAEC,IAAI,IAAI;OAC9D,CAAC,CAAC;IACP;IAEAC,SAAS,CAACC,KAAa;MACrB,IAAIA,KAAK,KAAK,CAAC,EAAE,OAAO,IAAI;MAC5B,IAAIA,KAAK,KAAK,CAAC,EAAE,OAAO,IAAI;MAC5B,IAAIA,KAAK,KAAK,CAAC,EAAE,OAAO,IAAI;MAC5B,OAAO,GAAGA,KAAK,GAAG,CAAC,GAAG;IACxB;;uBA1BWrB,oBAAoB;IAAA;;YAApBA,oBAAoB;MAAAsB;MAAAC;QAAAtB;QAAAC;MAAA;MAAAsB;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCVjC9B,8BAAyF;UACPA,YAA6B;UAAAA,iBAAK;UAChHA,mEAUK;UACLA,sHAEc;UAClBA,iBAAM;;;;UAf4EA,eAA6B;UAA7BA,0DAA6B;UACtGA,eAAoC;UAApCA,uDAAoC;;;qBDKjCD,YAAY;MAAAgC;IAAA;;SAGX9B,oBAAoB;AAAA","names":["CommonModule","i0","LeaderboardComponent","quiz","wards","sortedSubmissions","ngOnChanges","changes","updateLeaderboard","submissions","sort","a","b","score","map","sub","wardName","find","w","id","wardId","name","getTrophy","index","selectors","inputs","standalone","features","decls","vars","consts","template","encapsulation"],"sourceRoot":"","sources":["D:\\learning-portal\\frontend\\src\\app\\components\\leaderboard\\leaderboard.component.ts","D:\\learning-portal\\frontend\\src\\app\\components\\leaderboard\\leaderboard.component.html"],"sourcesContent":["import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Quiz, User } from '../../types';\r\n\r\n@Component({\r\n  selector: 'app-leaderboard',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './leaderboard.component.html',\r\n})\r\nexport class LeaderboardComponent implements OnChanges {\r\n  @Input() quiz!: Quiz;\r\n  @Input() wards: User[] = [];\r\n\r\n  sortedSubmissions: any[] = [];\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes['quiz'] || changes['wards']) {\r\n      this.updateLeaderboard();\r\n    }\r\n  }\r\n\r\n  updateLeaderboard(): void {\r\n    this.sortedSubmissions = [...this.quiz.submissions]\r\n      .sort((a, b) => b.score - a.score)\r\n      .map(sub => ({\r\n        ...sub,\r\n        wardName: this.wards.find(w => w.id === sub.wardId)?.name || 'Unknown Ward'\r\n      }));\r\n  }\r\n\r\n  getTrophy(index: number): string {\r\n    if (index === 0) return 'üèÜ';\r\n    if (index === 1) return 'ü•à';\r\n    if (index === 2) return 'ü•â';\r\n    return `${index + 1}.`;\r\n  }\r\n}\r\n","<div class=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 w-full max-w-md mx-auto\">\n    <h3 class=\"text-xl font-bold text-slate-800 dark:text-white mb-4 text-center\">Leaderboard: {{ quiz.title }}</h3>\n    <ul *ngIf=\"sortedSubmissions.length > 0; else noSubmissions\" class=\"space-y-3\">\n      <li *ngFor=\"let sub of sortedSubmissions; let i = index\" \n        class=\"flex items-center justify-between p-3 rounded-md\"\n        [ngClass]=\"i < 3 ? 'bg-yellow-50 dark:bg-yellow-900/20' : 'bg-slate-50 dark:bg-slate-700'\">\n        <div class=\"flex items-center\">\n          <span class=\"text-lg font-bold w-10 text-center\">{{ getTrophy(i) }}</span>\n          <span class=\"font-medium text-slate-700 dark:text-slate-200\">{{ sub.wardName }}</span>\n        </div>\n        <span class=\"font-bold text-sky-600 dark:text-sky-400\">{{ sub.score.toFixed(0) }}%</span>\n      </li>\n    </ul>\n    <ng-template #noSubmissions>\n      <p class=\"text-slate-500 dark:text-slate-400 text-center py-8\">No submissions yet for this quiz.</p>\n    </ng-template>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}